# Flask
FLASK_ENV=development
SECRET_KEY=change-me

# Database
DATABASE_URL=sqlite:///birdshome.db

# Streaming
STREAM_MODE=HLS

# TLS/HTTPS
TLS_MODE=letsencrypt
PUBLIC_DOMAIN=birdshome.local
LETSENCRYPT_EMAIL=admin@example.com
TLS_SELF_SIGNED_SANS=birdshome.local,localhost,127.0.0.1
TLS_SELF_SIGNED_DAYS=825
HLS_SEGMENT_SECONDS=3
HLS_PLAYLIST_SIZE=6
STREAM_RES=1280×720
STREAM_FPS=30
RECORD_RES=1280×720
RECORD_FPS=30
FFMPEG_BIN=ffmpeg

# Example sources (Pi: v4l2/alsa; Dev: testsrc/anullsrc)
#   Pi video example: exec /usr/bin/rpicam-vid -t 0 --width "${RES%x*}" --height "${RES#*x}" --framerate "${FPS}" \
                      #  --codec h264 --inline --profile baseline -o - | \
                      #ffmpeg -hide_banner -loglevel warning \
                      #  -fflags nobuffer -flags low_delay \
                      #  -thread_queue_size 512 -f h264 -i - \
                      #  -thread_queue_size 512 $BIRDSHOME_AUDIO_SOURCE \
                      #  -vf scale="${RES%x*}":"${RES#*x}" -r "${FPS}" \
                      #  -c:v libx264 -preset veryfast -tune zerolatency \
                      #  -c:a aac -b:a 128k \
                      #  -f hls -hls_time 3 -hls_list_size 6 \
                      #  -hls_flags delete_segments+append_list \
                      #  -hls_segment_filename /opt/birdshome/backend/app/static/hls/segment_%05d.ts \
                      #  /opt/birdshome/backend/app/static/hls/index.m3u8
BIRDSHOME_VIDEO_SOURCE='-f v4l2'
BIRDSHOME_VIDEO_SOURCE_CODEC='h264'
BIRDSHOME_AUDIO_SOURCE='-f alsa -i plughw:3,0'

# Upload (optional)
RCLONE_BIN=rclone
UPLOAD_INTERVAL_MIN=30
RETENTION_DAYS=14

# Detection (optional)
YOLO_MODEL_PATH=/opt/birdshome/models/yolo.pt
YOLO_THRESH=0.5

# IR / Light (optional)
IR_GPIO=17
LUX_GPIO=27
LUX_THRESHOLD=0.5

# Internal token used by local system services
INTERNAL_TOKEN=change-me

# Disable scheduler in the web service when using birdshome-jobs.service
SCHEDULER_ENABLED=1

# Autostart stream service on backend startup
STREAM_AUTOSTART=1

# Logging
LOG_DIR=/var/log/birdshome
LOG_FILE=birdshome.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5
